<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>
    <title>타이핑 게임 프로젝트</title>
    <style>
        .wrap {
            display: flex;
            flex-direction: column;
            align-items: center;

        }

        header {
            background-color: cornflowerblue;
            width: 100%;
            color: white;
            font-size: 25pt;
            text-align: center;
        }

        .text {
            font-size: 40pt;
        }

        input {
            width: 500px;
            height: 50px;
            font-size: 15pt;
            border-radius: 15px;
            text-align: center;
        }

        button {
            width: 300px;
            height: 50px;
            background-color: chocolate;
            color: white;
            font-size: 20pt;
            font-weight: 900;
            border: none;
            border-radius: 10px;
            cursor: pointer;
        }

        .board {
            height: 50px;
            margin: 50px;
            font-size: 20pt;
        }

        .board .time {
            font-size: 35pt;
        }

        .board .score {
            font-size: 35pt;
        }
    </style>
</head>
<body>
    <div class="wrap">
        <header>
            <h1>타이핑 마스터</h1>
        </header>
    
        <h1 class="text">a</h1>
    
        <input type="text" placeholder="입력하세요">
    
        <div class="board">
            남은 시간 : <span class="time">0</span>초 /
            점수 : <span class="score">0</span>점
        </div>
    
        <button>게임 시작</button>
    </div>


    <script>
        const text = [
            "대태준",
            "말황 박태준",
            "니코좌",
            "나피리의 주인",
            "초월자 태준",
            "태준 매직",
            "박태준신",
            "원딜지배자 태준",
            "미드포식자 태준",
            "탑의 파괴자 태준",
            "롤의 황태자",
            "강철 주먹 태준",
            "변신술사 태준",
            "불멸의 태준좌",
            "라인전의 종결자",
            "태준이 곧 메타다",
            "유일신 태준"
        ]

        const startBtn = document.querySelector("button")
        const leftTime = document.querySelector(".time")
        const input = document.querySelector("input")
        const typing = document.querySelector(".text")
        const score = document.querySelector(".score")

        let timeSetting = 10
        let isStarted = false
        let index

        startBtn.addEventListener("click", () => {
            console.log("게임 시작 버튼 눌림")
            
            leftTime.textContent = timeSetting
            
            if (!isStarted) {
                isStarted = true

                let count
                count = setInterval(() => {
                    leftTime.textContent -= 1
        
                    if (leftTime.textContent == 0) {
                    clearInterval(count)
                    isStarted = false
                    }
                }, 1000)
            }
        })

        input.addEventListener("input", () => {
            if (input.value == typing.textContent && isStarted) {
                score.textContent = Number(score.textContent) + 1
                leftTime.textContent = timeSetting
                
                index = Math.floor(Math.random() * text.length)
                typing.textContent = text[index]
                input.value = ""

                Toastify({
                    text: "정답!",
                    duration: 3000,
                    destination: "https://github.com/apvarun/toastify-js",
                    newWindow: true,
                    close: true,
                    gravity: "bottom", // `top` or `bottom`
                    position: "left", // `left`, `center` or `right`
                    stopOnFocus: true, // Prevents dismissing of toast on hover
                    style: {
                        background: "linear-gradient(to right, #00b09b, #96c93d)",
                    },
                    onClick: function(){} // Callback after click
                }).showToast();
            }
        })
    </script>
</body>
</html>