<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>08 이시현</title>
    <style>
        * {
            padding: 0;
            margin: 0;
            box-sizing: border-box;
        }

        body {
            height: 100vh;
            overflow: hidden;
        }

        li {
            list-style: none;
        }

        header {
            background-color: white;
            align-items: center;
            position: relative;
            padding-bottom: 10px;
            border-bottom: 1px solid black;
        }

        .caution {
            position: absolute;
            top: 25px;
            left: 20px;
            cursor: pointer;
        }

        .icon {
            text-align: center;
        }

        .search {
            position: absolute;
            top: 20px;
            right: 150px;
        }

        #search {
            border: none;
            border-bottom: 1px solid black;
            width: 300px;
            height: 40px;
            font-size: 14pt;
            padding: 10px;
        }

        #language {
            width: 100px;
            height: 30px;
            font-size: 14pt;
            position: absolute;
            border: none;
            top: 25px;
            right: 20px;
        }

        .left {
            background-color: white;
            width: 300px;
            text-align: center;
            position: fixed;
            top: 81px;
            height: 100%;
            border-right: 1px solid black;
            z-index: 98;
        }

        .slide_container {
            margin-top: 30px;
            position: relative;
            display: inline-block;
            width: 225px;
            overflow: hidden;
        }

        .slides {
            width: 900px;
            text-align: center;
            display: flex;
        }

        .slides.animated {
            transition: all 0.4s;
        }

        .slides > li {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 225px;
            height: 300px;
        }

        .slides > li > h1 {
            color: white;
        }

        .slides > li > h3 {
            color: white;
        }

        .Seoul {
            background-image: url("https://i.namu.wiki/i/vzQIsovYmymvt84FWS9hhAS3Qva_O31fczg3ErMrSQrSgnJ9h3oQDf3kVo5M6aD1Q05-etvQRlqc3dnurUczXw.webp");
            background-size: cover;
        }

        .Tokyo {
            background-image: url("https://www.gotokyo.org/kr/best-attractions/images/main.jpg");
            background-size: cover;
        }

        .Los_A {
            background-image: url("https://upload.wikimedia.org/wikipedia/commons/3/32/20190616154621%21Echo_Park_Lake_with_Downtown_Los_Angeles_Skyline.jpg");
            background-size: cover;
        }

        .London {
            background-image: url("https://i.namu.wiki/i/aJb25KvZtZyqjVtC97YaJKvJmlhLM41QUbWnkBrXjk8TKeWDTlL4KA-sFN_s6iOpp0NMnUYEDdQRF1AccTubTw.webp");
            background-size: cover;
        }

        .prev {
            position: absolute;
            color: white;
            top: 45%;
            left: 0;
            font-size: 20pt;
            font-weight: 900;
            cursor: pointer;
            z-index: 99;
        }

        .next {
            position: absolute;
            color: white;
            top: 45%;
            right: 0;
            font-size: 20pt;
            font-weight: 900;
            cursor: pointer;
            z-index: 99;
        }

        .detail {
            margin-top: 30px;
        }

        .big {
            font-size: 50pt;
        }

        .right {
            position: relative;
        }

        .sebujungbo {
            width: 50%;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-top: 30px;
            margin-left: auto;
            margin-right: auto;
        }

        .country_container {
            border: 1px solid black;
            border-radius: 5px;
            background-color: white;
            padding: 20px;
        }

        .weather_container {
            border: 1px solid black;
            border-radius: 5px;
            background-color: white;
            align-items: center;
            justify-content: center;
            display: flex;
        }

        .weather {
            text-align: center;
        }

        .wind_container {
            border: 1px solid black;
            border-radius: 5px;
            background-color: white;
            display: flex;
            align-items: center;
        }
        
        .wind_spd {
            text-align: center;
            width: 50%;
        }

        .wind_deg {
            text-align: center;
            width: 50%;
        }

        .img {
            grid-column: 1 / 3;
            grid-row: 2 / 4;
        }

        .img img {
            width: 960px;
            grid-column: 1/3;
            grid-row: 2/4;
            border-radius: 10px;
        }
    </style>
</head>
<body>
    <header>
        <h3 class="caution">주의사항</h3>
        <div class="icon">
            <h1>AI COM</h1>
            <p>weather</p>
        </div>

        <div class="search">
            <label>
                <input type="text" id="search" placeholder="영어로 입력해주세요.">
            </label>
        </div>

        <div class="lang">
            <select name="" id="language">
                <option value="kr">한국어</option>
                <option value="en">English</option>
            </select>
        </div>
    </header>

    <main>
        <section class="left">
            <div class="slide_container">
                <ul class="slides">
                    <li class="Seoul">
                        <h1>Seoul</h1>
                    </li>
                    <li class="Tokyo">
                        <h1>Tokyo</h1>
                    </li>
                    <li class="Los_A">
                        <h1>Los Angeles</h1>
                    </li>
                    <li class="London">
                        <h1>London</h1>
                    </li>
                </ul>

                <span class="prev"><</span>
                <span class="next">></span>
            </div>
            <div class="detail">
                <h1 class="change_country">서울</h1>
                <div>
                    <h3 class="change_temp">온도</h3>
                    <p class="temp"></p>
                </div>
                <div>
                    <h3 class="change_feels_like">체감 온도</h3>
                    <p class="feels_like"></p>
                </div>
                <div>
                    <h3 class="change_moisture">습도</h3>
                    <p class="moisture"></p>
                </div>
                <div>
                    <h3 class="change_wind">풍속</h3>
                    <p class="wind"></p>
                </div>
            </div>
        </section>
        <section class="right">
            <div class="sebujungbo">
                <div class="country_container">
                    <h1 class="country" style="font-size: 30pt;">서울</h1>
                    <h1 class="big big_temp"></h1>
                </div>
                <div class="weather_container">
                    <div class="weather">
                        <h1 class="change_weather">날씨</h1>
                        <h1 class="big_weather" style="font-size: 30pt;"></h1>
                    </div>
                    <img src="" alt="">
                </div>
                <div class="wind_container">
                    <div class="wind_deg">
                        <h2 class="change_deg">풍향</h2>
                        <h1 class="deg"></h1>
                    </div>
                    <div class="wind_spd">
                        <h2 class="change_spd">풍속</h2>
                        <h1 class="spd"></h1>
                    </div>
                </div>
                <div class="img">
                    <img src="https://cdn.newstof.com/news/photo/201804/675_1615_359.jpg" alt="">
                </div>
            </div>
        </section>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script>
        let slides = document.querySelector(".slides")
            slide = document.querySelectorAll(".slides li"),
            caution = document.querySelector(".caution")
            search = document.querySelector("#search")
            Seoul = document.querySelector(".Seoul"),
            Tokyo = document.querySelector(".Tokyo"),
            Los_A = document.querySelector(".Los_A"),
            London = document.querySelector(".London"),
            count = 4,
            prevBtn = document.querySelector(".prev"),
            nextBtn = document.querySelector(".next"),
            temp = document.querySelector(".temp"),
            feels_like = document.querySelector(".feels_like"),
            moisture = document.querySelector(".moisture"),
            wind = document.querySelector(".wind"),
            country = document.querySelector(".country"),
            big_temp = document.querySelector(".big_temp"),
            big_weather = document.querySelector(".big_weather"),
            weather_icon = document.querySelector(".weather_container img"),
            deg = document.querySelector(".deg"),
            spd = document.querySelector(".spd"),
            lang_select = document.querySelector("select"),
            change_country = document.querySelector(".change_country")
            change_temp = document.querySelector(".change_temp"),
            change_feels_like = document.querySelector(".change_feels_like"),
            change_moisture = document.querySelector(".change_moisture"),
            change_wind = document.querySelector(".change_wind"),
            change_weather = document.querySelector(".change_weather"),
            change_deg = document.querySelector(".change_deg"),
            change_spd = document.querySelector(".change_spd"),
            img = document.querySelector(".img img")
            lang = "kr",
            n = 0,
            Animating = false

        caution.addEventListener("click", () => {
            if (lang === "kr") {
                alert("검색창에 입력 시 이미지는 바뀌지 않습니다.")
            } else if (lang === "en") {
                alert("The image does not change when you enter the search box.")
            }
        })

        Clone()

        function Clone () {
            for (let i = 0; i < count; i++) {
                let CloneSlide = slide[i].cloneNode(true)
                slides.appendChild(CloneSlide)
            }
            
            for (let i = count-1; i >= 0; i--) {
                let CloneSlide = slide[i].cloneNode(true)
                slides.prepend(CloneSlide)
            }

            let now_slide = document.querySelectorAll(".slides li"),
                new_count = now_slide.length

            slides.style.width = `${new_count * 225}px`

            slides.style.transform = `translateX(-${count * 225}px)`

            setTimeout(function () {
                slides.classList.add("animated")
            }, 500)
        }

        prevBtn.addEventListener("click", () => {
            if (!Animating) {
                moveSlide(n - 1)
            }
        })

        nextBtn.addEventListener("click", () => {
            if (!Animating) {
                moveSlide(n + 1)
            }
        })

        function moveSlide (e) {
            Animating = true
            slides.style.transform = `translateX(-${(count+e) * 225}px)`
            n = e
            console.log(n, count)
            if (n === count || n === -count) {
                setTimeout(function () {
                    slides.classList.remove("animated")
                    slides.style.transform = `translateX(-${count * 225}px)`
                    n = 0
                }, 400)
                setTimeout (function () {
                    slides.classList.add("animated")
                    Animating = false
                }, 500)
            } else {
                setTimeout (function () {
                    Animating = false
                }, 400)
            }
            if (n === 0) {
                axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=4df8d94d366f016423fff8c574a8189e&lang=${lang}`)
                .then(function (response) {
                    console.log(response)
                    img.src = "https://cdn.newstof.com/news/photo/201804/675_1615_359.jpg"
                    temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    feels_like.textContent = `${(response.data.main.feels_like - 273.15).toFixed(2)}°C`
                    moisture.textContent = `${response.data.main.humidity}%`
                    wind.textContent = `${response.data.wind.speed}m/s`
                    big_weather.textContent = response.data.weather[0].description
                    big_temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    weather_icon.src = `https://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`
                    deg.textContent = `${response.data.wind.deg}°`
                    spd.textContent = `${response.data.wind.speed}m/s`
                    if (lang === "kr") {
                        change_country.textContent = "서울"
                        country.textContent = "서울"
                    } else if (lang === "en") {
                        change_country.textContent = "Seoul"
                        country.textContent = response.data.name
                    }
                })
                .catch(function (error) {
                    console.log(error);
                })
            } else if (n === 1 || n === -3) {
                axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Tokyo&appid=4df8d94d366f016423fff8c574a8189e&lang=${lang}`)
                .then(function (response) {
                    img.src = "https://www.gotokyo.org/kr/destinations/southern-tokyo/images/499_0354_2.jpg"
                    console.log(response)
                    temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    feels_like.textContent = `${(response.data.main.feels_like - 273.15).toFixed(2)}°C`
                    moisture.textContent = `${response.data.main.humidity}%`
                    wind.textContent = `${response.data.wind.speed}m/s`
                    big_weather.textContent = response.data.weather[0].description
                    big_temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    weather_icon.src = `https://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`
                    deg.textContent = `${response.data.wind.deg}°`
                    spd.textContent = `${response.data.wind.speed}m/s`
                    if (lang === "kr") {
                        change_country.textContent = "도쿄"
                        country.textContent = "도쿄"
                    } else if (lang === "en") {
                        change_country.textContent = "Tokyo"
                        country.textContent = response.data.name
                    }
                })
                .catch(function (error) {
                    console.log(error);
                })
            } else if (n === 2 || n === -2) {
                axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Los Angeles&appid=4df8d94d366f016423fff8c574a8189e&lang=${lang}`)
                .then(function (response) {
                    img.src = "https://www.10wallpaper.com/wallpaper/1920x1080/1501/Los_Angeles-Photography_HD_wallpaper_1920x1080.jpg"
                    console.log(response)
                    temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    feels_like.textContent = `${(response.data.main.feels_like - 273.15).toFixed(2)}°C`
                    moisture.textContent = `${response.data.main.humidity}%`
                    wind.textContent = `${response.data.wind.speed}m/s`
                    big_weather.textContent = response.data.weather[0].description
                    big_temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    weather_icon.src = `https://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`
                    deg.textContent = `${response.data.wind.deg}°`
                    spd.textContent = `${response.data.wind.speed}m/s`
                    if (lang === "kr") {
                        change_country.textContent = "로스 앤젤레스"
                        country.textContent = "로스 앤젤레스"
                    } else if (lang === "en") {
                        change_country.textContent = "Los Angeles"
                        country.textContent = response.data.name
                    }
                })
                .catch(function (error) {
                    console.log(error);
                })
            } else if (n === 3 || n === -1) {
                axios.get(`https://api.openweathermap.org/data/2.5/weather?q=London&appid=4df8d94d366f016423fff8c574a8189e&lang=${lang}`)
                .then(function (response) {
                    console.log(response)
                    img.src = "https://www.escamps.com/wp-content/uploads/2024/03/2.jpg"
                    temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    feels_like.textContent = `${(response.data.main.feels_like - 273.15).toFixed(2)}°C`
                    moisture.textContent = `${response.data.main.humidity}%`
                    wind.textContent = `${response.data.wind.speed}m/s`
                    big_weather.textContent = response.data.weather[0].description
                    big_temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    weather_icon.src = `https://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`
                    deg.textContent = `${response.data.wind.deg}°`
                    spd.textContent = `${response.data.wind.speed}m/s`
                    if (lang === "kr") {
                        change_country.textContent = "런던"
                        country.textContent = "런던"
                    } else if (lang === "en") {
                        change_country.textContent = "London"
                        country.textContent = response.data.name
                    }
                })
                .catch(function (error) {
                    console.log(error);
                })
            } else if (n === 4 || n == -4) {
                axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=4df8d94d366f016423fff8c574a8189e&lang=${lang}`)
                .then(function (response) {
                    img.src = "https://cdn.newstof.com/news/photo/201804/675_1615_359.jpg"
                    console.log(response)
                    temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    feels_like.textContent = `${(response.data.main.feels_like - 273.15).toFixed(2)}°C`
                    moisture.textContent = `${response.data.main.humidity}%`
                    wind.textContent = `${response.data.wind.speed}m/s`
                    big_weather.textContent = response.data.weather[0].description
                    big_temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    weather_icon.src = `https://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`
                    deg.textContent = `${response.data.wind.deg}°`
                    spd.textContent = `${response.data.wind.speed}m/s`
                    if (lang === "kr") {
                        change_country.textContent = "서울"
                        country.textContent = "서울"
                    } else if (lang === "en") {
                        change_country.textContent = "Seoul"
                        country.textContent = response.data.name
                    }
                })
                .catch(function (error) {
                    console.log(error);
                })
            }
        }

        axios.get(`https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=4df8d94d366f016423fff8c574a8189e&lang=${lang}`)
        .then(function (response) {
            img.src = "https://cdn.newstof.com/news/photo/201804/675_1615_359.jpg"
            console.log(response)
            temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
            feels_like.textContent = `${(response.data.main.feels_like - 273.15).toFixed(2)}°C`
            moisture.textContent = `${response.data.main.humidity}%`
            wind.textContent = `${response.data.wind.speed}m/s`
            big_weather.textContent = response.data.weather[0].description
            big_temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
            weather_icon.src = `https://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`
            deg.textContent = `${response.data.wind.deg}°`
            spd.textContent = `${response.data.wind.speed}m/s`
            country.textContent = "서울"
        })
        .catch(function (error) {
            console.log(error);
        })
        
        lang_select.addEventListener("click", () => {
            if (lang_select.options.selectedIndex == 0) {
                lang = "kr"
                change_temp.textContent = "온도"
                change_feels_like.textContent = "체감 온도"
                change_moisture.textContent = "습도"
                change_wind.textContent = "풍속"
                change_weather.textContent = "날씨"
                change_deg.textContent = "풍향"
                change_spd.textContent = "풍속"
                caution.textContent = "주의사항"
            } else {
                lang = "en"
                search.setAttribute("placeholder", "Please enter country in English")
                change_temp.textContent = "Temperature"
                change_feels_like.textContent = "Feels like"
                change_moisture.textContent = "Humidity"
                change_wind.textContent = "Wind Speed"
                change_weather.textContent = "Weather"
                change_deg.textContent = "Degree"
                change_spd.textContent = "Speed"
                caution.textContent = "Caution"
            }
        })

        search.addEventListener("keypress", (e) => {
            if (e.key === "Enter" && search.value != "") {
                axios.get(`https://api.openweathermap.org/data/2.5/weather?q=${search.value}&appid=4df8d94d366f016423fff8c574a8189e&lang=${lang}`)
                .then(function (response) {
                    console.log(response)
                    big_weather.textContent = response.data.weather[0].description
                    big_temp.textContent = `${(response.data.main.temp - 273.15).toFixed(2)}°C`
                    weather_icon.src = `https://openweathermap.org/img/wn/${response.data.weather[0].icon}@2x.png`
                    deg.textContent = `${response.data.wind.deg}°`
                    spd.textContent = `${response.data.wind.speed}m/s`
                    country.textContent = search.value
                })
                .catch(function (error) {
                    console.log(error);
                    alert("존재하지 않는 도시 이름입니다.")
                })
            }
        })
    </script>
</body>
</html>